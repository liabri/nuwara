(window.webpackJsonp=window.webpackJsonp||[]).push([[5,8],{18:function(t,e,n){"use strict";var r=function(){try{return new CustomEvent("test"),!0}catch(t){return!1}}(),a=function(t,e){if(!r){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}return new CustomEvent(t,{detail:e})};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=a(t,e);return n.dispatchEvent(r)}},727:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d}));var r=n(11),a=n.n(r),s=n(143),o=n.n(s);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c={type:o.a.string,content:o.a.string,sigil:o.a.string},u=o.a.shape(c),l=o.a.shape(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},c,{flipType:o.a.string})),p=o.a.shape({text:o.a.string,url:o.a.string}),f=o.a.shape({labels:o.a.shape({top:p,bottom:p}),headlines:o.a.array,image:o.a.shape({type:o.a.string,locator:o.a.oneOfType([o.a.shape({}),o.a.string]),credit:o.a.string,caption:o.a.string}),embed:u}),d=(o.a.shape({elmt:o.a.string.isRequired,link:o.a.string,pkgt:o.a.string,index:o.a.number.isRequired,subindex:o.a.number}),o.a.shape({"data-vars-type":o.a.string,"data-vars-target-content-id":o.a.string,"data-vars-target-content-type":o.a.oneOf(["url","buzz","feed"]),"data-vars-item-type":o.a.string,"data-vars-item-name":o.a.string,"data-vars-subunit-name":o.a.string,"data-vars-subunit-type":o.a.string,"data-vars-position-in-subunit":o.a.number,"data-vars-unit-name":o.a.string,"data-vars-unit-type":o.a.string,"data-vars-context-page-id":o.a.string,"data-vars-context-page-type":o.a.oneOf(["buzz","feed"]),"data-vars-action-type":o.a.oneOf(["follow","navigate","open","share","signup","save","subscribe_follow"]),"data-vars-action-value":o.a.string}))},731:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r=n(730),a=n.n(r),s=n(737),o=n(744),i=(n(48).carmotProviderEnabled,n(26).findEditionIdFromHostname),c={b:"huffpost_us_3rd_party_674",n:"the_huffington_post_584",l:"huffpost_life_308",br:"huffpost_br_627",ca:"huffpost_ca_629",es:"huffpost_es_19",fr:"huffingtonpost",in:"huffpost_india_124",jp:"huffpost_japan_567",it:"huffpost_it_483",kr:"huffpost_kr_133",qc:"huffpost_qu_bec_18",uk:"huffpost_uk_744",gr:"huffpost_gr_317",spoilsuk:"the_spoils_379"},u=(s(c),new Date("2019-01-22T20:53:00.000Z"),function(t){var e=function(t){var e,n="";try{var r=new URL(t);e=r.hostname,n=r.pathname}catch(t){}var a=n.match(/[a-z0-9-]+\/([a-z0-9-]*)_(a|b|l|n|[a-z]{2})_([a-f0-9]{1,24})/);if(a&&a.length){var s=a[2],o=a[3],u=i(e);o.match(/^[0-9]+$/)&&["b","n"].includes(s)&&"us"!==u&&(s=u);var l=c[s];return l||(l=c[u]),l||(l=c.n),[l,o]}return[null,null]}(t),n=a()(e,2),r=n[0],s=n[1];return r&&s?function(t,e){return[o.URL,t,e].reduce((function(t,e){return o(e,t)}),o.URL)}(r,s):null}),l=function(t){var e={};if(t.itc)throw new Error("itc value is calculated; do not pass it into addYlkData directly");if(t.slk&&(e=Object.assign(e,{slk:t.slk})),t.subsec&&(e=Object.assign(e,{subsec:t.subsec})),t.cpid||t.link){var n=t.cpid||u(t.link);null!==n&&(e=Object.assign(e,{g:n})),e=Object.assign(e,{itc:0})}else e=Object.assign(e,{itc:1});return t.ct&&(e=Object.assign(e,{ct:t.ct})),"number"==typeof t.itc&&(e=Object.assign(e,{itc:t.itc})),t.pkgt&&(e=Object.assign(e,{pkgt:t.pkgt})),t.mab_test&&(e=Object.assign(e,{mab_test:t.mab_test})),t.elmt&&(e=Object.assign(e,{elmt:t.elmt})),void 0!==t.index&&(e=Object.assign(e,{cpos:t.index}),void 0!==t.subindex&&(e=Object.assign(e,{pos:t.subindex}))),"paragraph"===t.subsec?e=Object.assign(e,{elm:"context_link"}):t.elm&&(e=Object.assign(e,{elm:t.elm})),{"data-ylk":Object.entries(e).map((function(t){return"".concat(t[0],":").concat(t[1])})).join(";")}},p=function(t){return t.closest?t.closest("[data-rapid='marko-sec']").id:null},f=function(t,e){var n=p(t);n?window.RapidInstance.beaconLinkViews([{sec:n,_links:[e]}]):console.warn("unable to find `sec` for element",t)}},736:function(t,e,n){"use strict";var r=n(730),a=n.n(r);e.a=function(t,e){var n=t.split("?"),r=a()(n,2),s=r[0],o=r[1],i=new URLSearchParams(void 0===o?"":o);return e&&Object.entries(e).forEach((function(t){var e=a()(t,2),n=e[0],r=e[1];i.set(n,r)})),"".concat(s).concat(i.toString()?"?":"").concat(i)}},761:function(t,e,n){var r=n(14);function a(t){return r.createElement("svg",t,r.createElement("g",{id:"-LIFE",stroke:"none",strokeWidth:"2",fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M11.4615385,16.9972138 C10.2755047,16.2122127 8.35022125,14.9233805 7.00039748,14.0162526 C6.78000866,13.8488507 6.51064455,13.7576039 6.23296388,13.7576039 C5.95528321,13.7576039 5.68591909,13.8488507 5.46553027,14.0162526 C4.1140894,14.9243093 2.18580274,16.2154632 1,17 C1.00069305,14.1757604 1.0043893,1.65776643 1.0043893,1.65753425 C1.0043893,1.295101 1.29777902,1 1.65839427,1 L10.8073025,1 C11.1681487,1 11.4615385,1.295101 11.4615385,1.65753425 L11.4615385,16.9972138 Z",id:"Fill-8-Copy-2",stroke:"#171D67"})))}a.defaultProps={className:"social-icon_svg",width:"12px",height:"18px",viewBox:"0 0 12 18",version:"1.1"},t.exports=a,a.default=a},764:function(t,e,n){"use strict";n.r(e);var r=n(152),a=n.n(r),s=n(2),o=n.n(s),i=n(10),c=n.n(i),u=n(32),l=n.n(u),p=n(31),f=n.n(p),d=n(25),b=n.n(d),m=n(46),g=n.n(m),k=n(47),h=n.n(k),v=n(21),y=n.n(v),_=n(14),w=n.n(_),O=n(143),j=n.n(O),x=n(761),E=n.n(x),R=n(731);var U=w.a.createElement("span",null,"Don't have an account? "),P=function(t){g()(n,t);var e=function(t){function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=y()(t);if(e()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}(n);function n(){return l()(this,n),e.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var t=this.props,e=t.signInUrl,n=t.signUpUrl,r=t.signUpText,s=t.subsec,o=t.footer;return w.a.createElement("div",{className:"modal__login",id:"bookmark-modal"},w.a.createElement("a",a()({className:"modal__login__button yr-track",href:e},Object(R.a)({link:e,slk:"login",elm:"login",subsec:s})),"Log in"),w.a.createElement("div",{className:"modal__login__signup"},o,w.a.createElement("a",a()({className:"modal__login__signup__link yr-track",href:n},Object(R.a)({link:n,slk:"signup",elm:"signup",subsec:s})),r)))}}]),n}(w.a.PureComponent);P.propTypes={signInUrl:j.a.string.isRequired,signUpUrl:j.a.string.isRequired,signUpText:j.a.string,subsec:j.a.string.isRequired,footer:j.a.element},P.defaultProps={signUpText:"Sign up",footer:U};var I=P,S=n(18),T=n(24),C=n(54);function D(){return(D=c()(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.a)("user/bookmarks/".concat(e));case 3:return n=t.sent,t.abrupt("return",n.bookmarked);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function q(t){return L.apply(this,arguments)}function L(){return(L=c()(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.a)("user/bookmarks",{body:{csrfToken:window.HP.params.csrfToken,actions:[{action:"add",timestamp:Date.now(),entryId:e,editionId:"us"}]}});case 3:return t.abrupt("return","bookmarked");case 6:t.prev=6,t.t0=t.catch(0),console.error("Error: Bookmark did not add");case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function z(t){return N.apply(this,arguments)}function N(){return(N=c()(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.a)("user/bookmarks",{body:{csrfToken:window.HP.params.csrfToken,actions:[{action:"remove",timestamp:Date.now(),entryId:e,editionId:"us"}]}});case 3:return t.abrupt("return","unbookmarked");case 6:t.prev=6,t.t0=t.catch(0),console.error("Error: Bookmark was not removed");case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}var F=n(736),V=n(727),B=n(230);var H="bookmarkClick=true",J=function(t){g()(r,t);var e,n=function(t){function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=y()(t);if(e()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}(r);function r(t){var e;return l()(this,r),(e=n.call(this,t)).entryId=t.entryId,e.state={status:"unbookmarked",pending:!0},e.maybeToggle=e.maybeToggle.bind(b()(e)),e.ref=w.a.createRef(),e}return f()(r,[{key:"componentDidMount",value:function(){var t=this;if(function(t){return D.apply(this,arguments)}(this.props.entryId).catch((function(){return!1})).then((function(e){t.setState({status:e?"bookmarked":"unbookmarked",pending:!1})})),document.addEventListener("bookmark-changed",(function(e){var n=e.detail.bookmarkStatus;t.setState({status:n})})),window.location.search.includes(H)){var e=window.location.search.replace(H,"");window.history.replaceState(null,null,"".concat(window.location.pathname).concat(e))}}},{key:"maybeToggle",value:(e=c()(o.a.mark((function t(){var e,n,r,a,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props.linkTrackingParams,!0!==this.state.pending){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,Object(T.a)();case 5:if(t.sent){t.next=13;break}n=window.HUFFPOST.params||{},r=Object(F.a)(n.signInUrl+encodeURIComponent("?".concat(H)),e.bookmarkSignIn),a=Object(F.a)(n.signUpUrl+encodeURIComponent("?".concat(H)),e.bookmarkSignUp),Object(S.a)("open-modal",{title:"Sync Bookmarks",subTitle:"Log in or create a free account to save and sync bookmarks across devices.",payload:w.a.createElement(I,{signInUrl:r,signUpUrl:a,subsec:"bookmark"}),subsec:"bookmark"}),t.next=33;break;case 13:if(this.setState({pending:!0}),t.prev=14,i=this.ref.current,"bookmarked"!==this.state.status){t.next=22;break}return t.next=19,z(i.dataset.entryid);case 19:s=t.sent,t.next=26;break;case 22:if("unbookmarked"!==this.state.status){t.next=26;break}return t.next=25,q(i.dataset.entryid);case 25:s=t.sent;case 26:Object(S.a)("bookmark-changed",{bookmarkStatus:s}),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(14),console.error("Error (un)bookmarking entry",t.t0);case 32:this.setState({pending:!1});case 33:return t.abrupt("return",null);case 34:case"end":return t.stop()}}),t,this,[[14,29]])}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,e=t.entryId,n=t.cetDataVars,r=t.position,s=this.state.status,o=Object(B.setWebActionCetDataVars)(r,"bookmark",e);o["data-vars-position-in-subunit"]=0;var i=o?Object.assign(n,o):{};return w.a.createElement("button",a()({ref:this.ref,className:"social-buttons__icons__item social-buttons__icons__item--bookmark yr-track ".concat(s),"data-entryid":e,onClick:this.maybeToggle},i),w.a.createElement("div",{className:"social-buttons__icons__item__svg-wrapper"},w.a.createElement(E.a,null)))}}]),r}(w.a.Component);J.propTypes={entryId:j.a.string.isRequired,linkTrackingParams:j.a.shape({bookmarkSignIn:j.a.shape({}).isRequired,bookmarkSignUp:j.a.shape({}).isRequired}).isRequired,cetDataVars:V.b,position:j.a.string},J.defaultProps={cetDataVars:{},position:""};e.default=J}}]);